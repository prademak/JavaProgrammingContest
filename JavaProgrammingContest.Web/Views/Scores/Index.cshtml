@using System.Collections
@using JavaProgrammingContest.Web.Controllers
@model JavaProgrammingContest.Web.Controllers.Leaderboard

@{
    ViewBag.Title = "Index";
}

@foreach (var contest in Model.Contest)
{
    <h2>@contest.ContestName</h2>
    
        <table class="table table-bordered table-bordered">
            <thead>
                <tr>
                    <th>Email participant</th>
                    <th>Correct assignments</th>
                    <th>Average time spent</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var p in contest.Participants.OrderByDescending(p => p.CompletePercentage).ThenBy(a => a.AverageTime))
                {
                    <tr>
                        <td>@p.Email</td>
                        <td>@p.AssignmentsCompleted / @p.AssignmentsMade</td>
                        <td>@Math.Round((Decimal)(p.AverageTime), 0) sec</td>
                    </tr>
                }
            </tbody>
        </table>
}